import{d as y,g as p,h as b,c as n,o,_ as L,a as t,F as R,b as $,e as m,w as v,f as x,t as g,i as B,j as E,u as F,k as j,l as A}from"./index-BUYc1O3g.js";const C="https://api.github.com",z="romain325",I="romind_dataholder",U=async r=>fetch(C+"/repos/"+z+"/"+I+"/contents"+r,{headers:{Authorization:"toekn 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"}}),O=async r=>fetch(C+"/markdown",{method:"POST",body:JSON.stringify({mode:"markdown",text:r}),headers:{Authorization:"toekn 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"}}),M=y({__name:"ArticleFile",props:{value:{}},setup(r){const l=r,c=p(null);return b(async()=>{if(!l.value?.content)return;const i=decodeURIComponent(atob(l.value.content).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));try{const d=await(await O(i)).text();c.value&&(c.value.innerHTML=d)}catch(s){console.error("Error converting markdown:",s)}}),(i,s)=>(o(),n("div",{ref_key:"contentRef",ref:c,class:"overflow-y-auto max-h-full h-full w-full px-4 box-border"},null,512))}}),N=L(M,[["__scopeId","data-v-433cc46b"]]),S=y({name:"ArticleFolder",props:{data:Array}});function T(r,l,c,i,s,d){const _=B("RouterLink");return o(),n("div",null,[t("ul",null,[(o(!0),n(R,null,$(r.$props.data,f=>(o(),n("li",null,[m(_,{to:r.$route.path+"/"+f.name},{default:v(()=>[x(g(f.name),1)]),_:2},1032,["to"])]))),256))])])}const V=L(S,[["render",T]]),Y={class:"flex flex-col h-screen overflow-hidden"},q={class:"shrink-0 p-4 overflow-x-auto"},G={class:"inline-flex items-center space-x-1 md:space-x-3"},P={class:"inline-flex items-center"},H={class:"flex items-center"},Q={class:"flex-1 overflow-hidden"},X={key:0,class:"p-4"},D={key:1,class:"h-full"},J={key:0,class:"p-4"},K={class:"text-gray-500"},W={key:1,class:"h-full"},ee=y({__name:"ArticleView",setup(r){const l=p(null),c=p(!0),i=p(!1),s=p({message:""}),d=F(),_=E(()=>d.path.split("/").slice(2)),f=u=>{const e=d.path.split("/"),a=e.length-(u+3);for(let h=0;h<a;h++)e.pop();return e.join("/")};async function k(){let u="/articles";for(const e of d.params.id)u+=`/${e}`;try{const e=await U(u),a=await e.json();e.ok?(c.value=Array.isArray(a),l.value=a):s.value=a}catch{s.value.message="Unknown error occurred."}finally{i.value=!0}}return b(async()=>{await k()}),j(async()=>{await k()}),(u,e)=>{const a=B("RouterLink");return o(),n("div",Y,[t("nav",q,[t("ol",G,[t("li",P,[m(a,{to:"/articles",class:"inline-flex items-center text-2xl font-bold text-gray-700 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"},{default:v(()=>e[0]||(e[0]=[x(" Articles ")])),_:1,__:[0]}),e[1]||(e[1]=t("svg",{class:"w-6 h-6 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),(o(!0),n(R,null,$(_.value,(h,w)=>(o(),n("li",{key:w},[t("div",H,[m(a,{to:f(w),class:"text-2xl font-bold text-gray-700 md:ml-2 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"},{default:v(()=>[x(g(decodeURI(h)),1)]),_:2},1032,["to"]),e[2]||(e[2]=t("svg",{class:"w-6 h-6 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))])]))),128))])]),t("div",Q,[i.value?(o(),n("div",D,[s.value.message?(o(),n("div",J,[e[4]||(e[4]=t("h1",{class:"mb-4 text-3xl font-bold text-red-600"}," Oh no! An error occurred while requesting Github API! ",-1)),t("p",K,g(s.value.message),1)])):(o(),n("div",W,[c.value?(o(),A(V,{key:0,data:l.value},null,8,["data"])):(o(),A(N,{key:1,value:l.value},null,8,["value"]))]))])):(o(),n("div",X,e[3]||(e[3]=[t("h1",{class:"text-2xl"},"Loading...",-1)])))])])}}});export{ee as default};
